module.exports=function(e){function t(a){if(r[a])return r[a].exports;var i=r[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=r(2),n=a(i),s=r(3),o=a(s),u=r(4),l=a(u),f=r(5),c=a(f),h=r(6),d=a(h),g=r(7),v=a(g),_=r(8),y=a(_),b=r(9),p=a(b),k=r(10),m=a(k),S=r(11),I=a(S),x=(0,p.default)(),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];(0,v.default)(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_iterable",{value:!!r,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serialize",{value:!!a,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serializer",{value:function(e){return i?"function"==typeof i?new i(e._debug):"object"===("undefined"==typeof i?"undefined":(0,d.default)(i))?i:new m.default(e._debug):new m.default(e._debug)}(this),writable:!1,configurable:!1,enumerable:!1});var n={},s=e.getStorage();switch(!0){case s.indexOf("localStorage")>-1:n=localStorage,this._debug&&console.info("FallbackLocalStorage. Start using [localStorage].");break;case s.indexOf("sessionStorage")>-1:n=sessionStorage,this._debug&&console.warn("FallbackLocalStorage. Start using [sessionStorage].");break;default:n=new I.default,this._debug&&console.warn("FallbackLocalStorage. Start using [fallbackStorage].")}Object.defineProperty(this,"_storage",{value:n,writable:!0,configurable:!1,enumerable:!1})}return(0,y.default)(e,[{key:"toString",value:function(){return(0,c.default)(this._storage)}},{key:"toJSON",value:function(){return"toJSON"in this._storage&&"function"==typeof this._storage.toJSON?this._storage.toJSON():(0,c.default)(this._storage)}},{key:"toStringTag",value:function(){return this.toString()}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=""+e;return this.hasItem(r)?this._serialize?this._serializer.deserialize(this._storage.getItem(r)):this._storage.getItem(r):t}},{key:"setItem",value:function(e,t){var r=""+e,a=void 0;this._serialize?a=this._serializer.serialize(t):(this._debug&&"string"!=typeof t&&console.warn('Value for key "'+r+'" will be converted to string:\n"'+t+'"'),a=""+t);var i=!0;try{this._storage.setItem(r,a)}catch(e){i="Device exceeded storage data limit or encounter error.\n"+e,this._debug&&console.warn(i)}return this._iterable&&(this[r]=a),i}},{key:"hasItem",value:function(e){var t=""+e;return"function"==typeof this._storage.hasItem?this._storage.hasItem(t):t in this._storage&&!(t in Storage.prototype)}},{key:"removeItem",value:function(e){var t=""+e;this.hasItem(t)&&(this._iterable&&delete this[t],this._storage.removeItem(t))}},{key:"clear",value:function(){var e=this;this._iterable&&(0,l.default)(this).forEach(function(t){return delete e[t]}),this._storage.clear()}},{key:"key",value:function(e){if(!this._serialize)return"function"==typeof this._storage.key?this._storage.key(e):e in this.values()?this.values()[e]:null;var t=null;return"function"==typeof this._storage.key?t=this._storage.key(e):e in this.values()&&(t=this.values()[e]),this._serializer.deserialize(t)}},{key:"item",value:function(){return!arguments.length||arguments.length>2?null:1===arguments.length?this.getItem(arguments.length<=0?void 0:arguments[0]):(this.setItem(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),this.getItem(arguments.length<=0?void 0:arguments[0]))}},{key:"keys",value:function(){return"function"==typeof this._storage.keys?this._storage.keys():(0,l.default)(this._storage)}},{key:"values",value:function e(){var t=this;if(!this._serialize)return"function"==typeof this._storage.values?this._storage.values():(0,o.default)(this._storage);var e=void 0;return e="function"==typeof this._storage.values?this._storage.values():(0,o.default)(this._storage),e.map(function(e){return t._serializer.deserialize(e)})}},{key:"entries",value:function e(){var t=this;if(!this._serialize)return"function"==typeof this._storage.entries?this._storage.entries():(0,n.default)(this._storage);var e=void 0;return e="function"==typeof this._storage.entries?this._storage.entries():(0,n.default)(this._storage),e.map(function(e){var r=[];return r[0]=e[0],r[1]=t._serializer.deserialize(e[1]),r})}},{key:"forEach",value:function(e,t){var r=this.keys();r.length&&"function"==typeof e&&(this._serialize===!1&&"function"==typeof this._storage.forEach&&this._storage.forEach.call(t,e),this.entries().forEach(function(r,a){return e.call(t,r,a)}))}},{key:"length",get:function(){return this.keys().length},set:function(e){return this.keys().length}}],[{key:"getStorage",value:function(){var e=[];try{if("undefined"!=typeof x.localStorage)try{x.localStorage.setItem("",""),e.push("localStorage")}catch(e){}}catch(e){}try{if("undefined"!=typeof x.sessionStorage)try{x.sessionStorage.setItem("",""),e.push("sessionStorage")}catch(e){}}catch(e){}return e.push("fallbackStorage"),e}}]),e}();z.NAME="FallbackLocalStorage",z.VERSION="0.0.18",e.exports=z},function(e,t){e.exports=require("babel-runtime/core-js/object/entries")},function(e,t){e.exports=require("babel-runtime/core-js/object/values")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("system.global")},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=r(5),n=a(i),s=r(6),o=a(s),u=r(7),l=a(u),f=r(8),c=a(f),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,l.default)(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1})}return(0,c.default)(e,[{key:"deserialize",value:function(e,t){var r=t,a="undefined"==typeof e?"undefined":(0,o.default)(e);if(!e)return this._debug&&(console.warn("Unable to parse scalar or empty values"),console.dir(e)),r;if("object"===a)return this._debug&&(console.warn("It looks like value is already parsed"),console.dir(e)),e;if("string"!==a)return this._debug&&(console.warn("Unable to parse non-string values"),console.dir(e)),r;try{r=JSON.parse(e)}catch(t){this._debug&&(console.warn("Unable to parse serialized data"),console.dir(e),console.dir(t))}return r}},{key:"serialize",value:function(e){return(0,n.default)(e)}}]),e}();e.exports=h},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),n=a(i),s=r(2),o=a(s),u=r(3),l=a(u),f=r(4),c=a(f),h=r(7),d=a(h),g=r(8),v=a(g),_=r(12),y=a(_),b=function(){function e(){(0,d.default)(this,e),this._data={}}return(0,v.default)(e,[{key:"setItem",value:function(e,t){e&&(this._data[""+e]=""+t)}},{key:"getItem",value:function(e){return e in this._data?(0,y.default)(this._data[e]):null}},{key:"hasItem",value:function(e){return e in this._data}},{key:"removeItem",value:function(e){e in this._data&&delete this._data[e]}},{key:"key",value:function(e){var t=(0,c.default)(this._data);return e in t?(0,y.default)(t[e]):null}},{key:"clear",value:function(){this._data={}}},{key:"keys",value:function(){return(0,c.default)(this._data)}},{key:"values",value:function(){return(0,l.default)((0,y.default)(this._data))}},{key:"entries",value:function(){return(0,o.default)((0,y.default)(this._data))}},{key:"toString",value:function(){return(0,n.default)(this._data)}},{key:"valueOf",value:function(){return(0,y.default)(this._data)}},{key:"toJSON",value:function(){return(0,y.default)(this._data)}},{key:"length",get:function(){return(0,c.default)(this._data).length},set:function(e){return(0,c.default)(this._data).length}}]),e}();t.default=b},function(e,t){e.exports=require("lodash.clonedeep")}]);
//# sourceMappingURL=fallback-local-storage.js.map