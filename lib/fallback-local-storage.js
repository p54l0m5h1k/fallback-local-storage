module.exports=function(e){function t(i){if(r[i])return r[i].exports;var a=r[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=r(2),n=i(a),s=r(3),o=i(s),u=r(4),l=i(u),c=r(5),f=i(c),h=r(6),d=i(h),g=r(7),v=i(g),_=r(8),y=i(_),b=r(9),p=i(b),k=r(10),m=i(k),S=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],r=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],a=arguments[3];(0,v["default"])(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_iterable",{value:!!r,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serialize",{value:!!i,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serializer",{value:function(e){return a?"function"==typeof a?new a(e._debug):"object"===("undefined"==typeof a?"undefined":(0,d["default"])(a))?a:new m["default"](e._debug):new m["default"](e._debug)}(this),writable:!1,configurable:!1,enumerable:!1});var n={},s=e.getStorage();switch(!0){case s.indexOf("localStorage")>-1:n=localStorage,this._debug&&console.info("FallbackLocalStorage. Start using [localStorage].");break;case s.indexOf("sessionStorage")>-1:n=sessionStorage,this._debug&&console.warn("FallbackLocalStorage. Start using [sessionStorage].");break;default:n=new p["default"],this._debug&&console.warn("FallbackLocalStorage. Start using [fallbackStorage].")}Object.defineProperty(this,"_storage",{value:n,writable:!0,configurable:!1,enumerable:!1})}return(0,y["default"])(e,[{key:"toString",value:function(){return(0,f["default"])(this._storage)}},{key:"toStringTag",value:function(){return this.toString()}},{key:"getItem",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.hasItem(e)?this._serialize?this._serializer.deserialize(this._storage.getItem(e)):this._storage.getItem(e):t}},{key:"setItem",value:function(e,t){var r=void 0;this._serialize?r=this._serializer.serialize(t):(this._debug&&"string"!=typeof t&&console.warn('Value for key "'+e+'" will be converted to string:\n"'+t+'"'),r=""+t);var i=!0;try{this._storage.setItem(e,r)}catch(a){i="Device exceeded storage data limit or encounter error.\n"+a,this._debug&&console.warn(i)}return this._iterable&&(this[e]=r),i}},{key:"hasItem",value:function(e){return"function"==typeof this._storage.hasItem?this._storage.hasItem(e):e in this._storage&&!(e in Storage.prototype)}},{key:"removeItem",value:function(e){this._iterable&&delete this[e],this._storage.removeItem(e)}},{key:"clear",value:function(){var e=this;this._iterable&&(0,l["default"])(this).forEach(function(t){return delete e[t]}),this._storage.clear()}},{key:"key",value:function(e){if(!this._serialize)return"function"==typeof this._storage.key?this._storage.key(e):e in this.values()?this.values()[e]:null;var t=null;return"function"==typeof this._storage.key?t=this._storage.key(e):e in this.values()&&(t=this.values()[e]),this._serializer.deserialize(t)}},{key:"item",value:function(){return!arguments.length||arguments.length>2?null:1===arguments.length?this.getItem(arguments.length<=0?void 0:arguments[0]):(this.setItem(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),this.getItem(arguments.length<=0?void 0:arguments[0]))}},{key:"keys",value:function(){return"function"==typeof this._storage.keys?this._storage.keys():(0,l["default"])(this._storage)}},{key:"values",value:function t(){var e=this;if(!this._serialize)return"function"==typeof this._storage.values?this._storage.values():(0,o["default"])(this._storage);var t=void 0;return t="function"==typeof this._storage.values?this._storage.values():(0,o["default"])(this._storage),t.map(function(t){return e._serializer.deserialize(t)})}},{key:"entries",value:function r(){var e=this;if(!this._serialize)return"function"==typeof this._storage.entries?this._storage.entries():(0,n["default"])(this._storage);var r=void 0;return r="function"==typeof this._storage.entries?this._storage.entries():(0,n["default"])(this._storage),r.map(function(t){var r=[];return r[0]=t[0],r[1]=e._serializer.deserialize(t[1]),r})}},{key:"forEach",value:function(e,t){var r=this.keys();r.length&&"function"==typeof e&&(this._serialize===!1&&"function"==typeof this._storage.forEach&&this._storage.forEach.call(t,e),this.entries().forEach(function(r,i){return e.call(t,r,i)}))}},{key:"length",get:function(){return this.keys().length},set:function(e){}}],[{key:"getStorage",value:function(){var e=[];try{if("undefined"!=typeof localStorage)try{localStorage.setItem("",""),e.push("localStorage")}catch(t){}}catch(t){}try{if("undefined"!=typeof sessionStorage)try{sessionStorage.setItem("",""),e.push("sessionStorage")}catch(t){}}catch(t){}return e.push("fallbackStorage"),e}}]),e}();S.NAME="FallbackLocalStorage",S.VERSION="0.0.13",e.exports=S},function(e,t){e.exports=require("babel-runtime/core-js/object/entries")},function(e,t){e.exports=require("babel-runtime/core-js/object/values")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),n=i(a),s=r(2),o=i(s),u=r(3),l=i(u),c=r(4),f=i(c),h=r(7),d=i(h),g=r(8),v=i(g),_=function(){function e(){(0,d["default"])(this,e),this._data={}}return(0,v["default"])(e,[{key:"setItem",value:function(e,t){e&&(this._data[e]=""+t)}},{key:"getItem",value:function(e){return e in this._data?this._data[e]:null}},{key:"hasItem",value:function(e){return e in this._data}},{key:"removeItem",value:function(e){e in this._data&&delete this._data[e]}},{key:"key",value:function(e){var t=(0,f["default"])(this._data);return e in t?t[e]:null}},{key:"clear",value:function(){this._data={}}},{key:"keys",value:function(){return(0,f["default"])(this._data)}},{key:"values",value:function(){return(0,l["default"])(this._data)}},{key:"entries",value:function(){return(0,o["default"])(this._data)}},{key:"toString",value:function(){return(0,n["default"])(this._data)}},{key:"valueOf",value:function(){return this._data}},{key:"toJSON",value:function(){return this._data}},{key:"length",get:function(){return(0,f["default"])(this._data).length},set:function(e){}}]),e}();t["default"]=_},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=r(5),n=i(a),s=r(6),o=i(s),u=r(7),l=i(u),c=r(8),f=i(c),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];(0,l["default"])(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1})}return(0,f["default"])(e,[{key:"deserialize",value:function(e,t){var r=t,i="undefined"==typeof e?"undefined":(0,o["default"])(e);if(!e)return this._debug&&(console.warn("Unable to parse scalar or empty values"),console.dir(e)),r;if("object"===i)return this._debug&&(console.warn("It looks like value is already parsed"),console.dir(e)),e;if("string"!==i)return this._debug&&(console.warn("Unable to parse non-string values"),console.dir(e)),r;try{r=JSON.parse(e)}catch(a){this._debug&&(console.warn("Unable to parse serialized data"),console.dir(e),console.dir(a))}return r}},{key:"serialize",value:function(e){return(0,n["default"])(e)}}]),e}();e.exports=h}]);
//# sourceMappingURL=fallback-local-storage.js.map