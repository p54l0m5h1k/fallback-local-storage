module.exports=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),i=a(n),o=r(3),s=a(o),u=r(4),l=a(u),c=r(5),f=a(c),h=r(6),d=a(h),g=r(7),v=a(g),_=r(8),b=a(_),y=r(9),p=a(y),k=r(10),m=a(k),S=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],r=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],a=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],n=arguments[3];(0,v["default"])(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_iterable",{value:!!r,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serialize",{value:!!a,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serializer",{value:function(e){return n?"function"==typeof n?new n(e._debug):"object"===("undefined"==typeof n?"undefined":(0,d["default"])(n))?n:new m["default"](e._debug):new m["default"](e._debug)}(this),writable:!1,configurable:!1,enumerable:!1});var i={},o=e.getStorage();switch(!0){case o.indexOf("localStorage")>-1:i=localStorage,this._debug&&console.info("FallbackLocalStorage. Start using [localStorage].");break;case o.indexOf("sessionStorage")>-1:i=sessionStorage,this._debug&&console.warn("FallbackLocalStorage. Start using [sessionStorage].");break;default:i=new p["default"],this._debug&&console.warn("FallbackLocalStorage. Start using [fallbackStorage].")}Object.defineProperty(this,"_storage",{value:i,writable:!0,configurable:!1,enumerable:!1})}return(0,b["default"])(e,[{key:"toString",value:function(){return(0,f["default"])(this._storage)}},{key:"toStringTag",value:function(){return this.toString()}},{key:"getItem",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.hasItem(e)?this._serialize?this._serializer.deserialize(this._storage.getItem(e)):this._storage.getItem(e):t}},{key:"setItem",value:function(e,t){var r=void 0;this._serialize?r=this._serializer.serialize(t):this._debug&&"string"!=typeof t&&(console.warn('Value for key "'+e+'" will be converted to string:\n"'+t+'"'),r=t);var a=!0;try{this._storage.setItem(e,r)}catch(n){a="Device exceeded storage data limit or encounter error.\n"+n,this._debug&&console.warn(a)}return this._iterable&&(this[e]=""+r),a}},{key:"hasItem",value:function(e){return"function"==typeof this._storage.hasItem?this._storage.hasItem(e):e in this._storage&&!(e in Storage.prototype)}},{key:"removeItem",value:function(e){this._iterable&&delete this[e],this._storage.removeItem(e)}},{key:"clear",value:function(){var e=this;this._iterable&&(0,l["default"])(this).forEach(function(t){return delete e[t]}),this._storage.clear()}},{key:"item",value:function(){return!arguments.length||arguments.length>2?null:1===arguments.length?this.getItem(arguments.length<=0?void 0:arguments[0]):(this.setItem(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),this.getItem(arguments.length<=0?void 0:arguments[0]))}},{key:"keys",value:function(){return"function"==typeof this._storage.keys?this._storage.keys():(0,l["default"])(this._storage)}},{key:"values",value:function t(){var e=this;if(!this._serialize)return"function"==typeof this._storage.values?this._storage.values():(0,s["default"])(this._storage);var t=void 0;return t="function"==typeof this._storage.values?this._storage.values():(0,s["default"])(this._storage),t.map(function(t){return e._serializer.deserialize(t)})}},{key:"entries",value:function r(){var e=this;if(!this._serialize)return"function"==typeof this._storage.entries?this._storage.entries():(0,i["default"])(this._storage);var r=void 0;return r="function"==typeof this._storage.entries?this._storage.entries():(0,i["default"])(this._storage),r.map(function(t){var r=[];return r[0]=t[0],r[1]=e._serializer.deserialize(t[1]),r})}},{key:"forEach",value:function(e,t){var r=this.keys();r.length&&"function"==typeof e&&(this._serialize===!1&&"function"==typeof this._storage.forEach&&this._storage.forEach.call(t,e),this.entries().forEach(function(r,a){return e.call(t,r,a)}))}},{key:"length",get:function(){return this.keys().length},set:function(e){}}],[{key:"getStorage",value:function(){var e=[];try{if("undefined"!=typeof localStorage)try{localStorage.setItem("",""),e.push("localStorage")}catch(t){}}catch(t){}try{if("undefined"!=typeof sessionStorage)try{sessionStorage.setItem("",""),e.push("sessionStorage")}catch(t){}}catch(t){}return e.push("fallbackStorage"),e}}]),e}();S.NAME="FallbackLocalStorage",S.VERSION="0.0.10",e.exports=S},function(e,t){e.exports=require("babel-runtime/core-js/object/entries")},function(e,t){e.exports=require("babel-runtime/core-js/object/values")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=a(n),o=r(2),s=a(o),u=r(3),l=a(u),c=r(4),f=a(c),h=r(7),d=a(h),g=r(8),v=a(g),_=function(){function e(){(0,d["default"])(this,e),this._data={}}return(0,v["default"])(e,[{key:"setItem",value:function(e,t){e&&(this._data[e]=""+t)}},{key:"getItem",value:function(e){return e in this._data?this._data[e]:null}},{key:"hasItem",value:function(e){return e in this._data}},{key:"removeItem",value:function(e){e in this._data&&delete this._data[e]}},{key:"key",value:function(e){var t=(0,f["default"])(this._data);return e in t?t[e]:null}},{key:"clear",value:function(){this._data={}}},{key:"keys",value:function(){return(0,f["default"])(this._data)}},{key:"values",value:function(){return(0,l["default"])(this._data)}},{key:"entries",value:function(){return(0,s["default"])(this._data)}},{key:"toString",value:function(){return(0,i["default"])(this._data)}},{key:"valueOf",value:function(){return this._data}},{key:"toJSON",value:function(){return this._data}},{key:"length",get:function(){return(0,f["default"])(this._data).length},set:function(e){}}]),e}();t["default"]=_},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n=r(5),i=a(n),o=r(6),s=a(o),u=r(7),l=a(u),c=r(8),f=a(c),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];(0,l["default"])(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1})}return(0,f["default"])(e,[{key:"deserialize",value:function(e,t){var r=t,a="undefined"==typeof e?"undefined":(0,s["default"])(e);if(!e)return this._debug&&(console.warn("Unable to parse scalar or empty values"),console.dir(e)),r;if("object"===a)return this._debug&&(console.warn("It looks like value is already parsed"),console.dir(e)),e;if("string"!==a)return this._debug&&(console.warn("Unable to parse non-string values"),console.dir(e)),r;try{r=JSON.parse(e)}catch(n){this._debug&&(console.warn("Unable to parse serialized data"),console.dir(e),console.dir(n))}return r}},{key:"serialize",value:function(e){return(0,i["default"])(e)}}]),e}();e.exports=h}]);
//# sourceMappingURL=fallback-local-storage.js.map