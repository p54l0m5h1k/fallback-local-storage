module.exports=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),i=n(a),o=r(3),u=n(o),s=r(4),l=n(s),f=r(5),c=n(f),h=r(6),d=n(h),g=r(7),v=n(g),_=r(8),y=n(_),b=r(9),p=n(b),k=r(10),m=n(k),S=r(14),x=n(S),I=(0,p.default)(),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,v.default)(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_iterable",{value:!!r,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serialize",{value:!!n,writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_serializer",{value:function(e){return a?"function"==typeof a?new a(e._debug):"object"===("undefined"==typeof a?"undefined":(0,d.default)(a))?a:new m.default(e._debug):new m.default(e._debug)}(this),writable:!1,configurable:!1,enumerable:!1});var i={},o=e.getStorage();switch(!0){case o.indexOf("localStorage")>-1:i=localStorage,this._debug&&console.info("FallbackLocalStorage. Start using [localStorage].");break;case o.indexOf("sessionStorage")>-1:i=sessionStorage,this._debug&&console.warn("FallbackLocalStorage. Start using [sessionStorage].");break;default:i=new x.default,this._debug&&console.warn("FallbackLocalStorage. Start using [fallbackStorage].")}Object.defineProperty(this,"_storage",{value:i,writable:!0,configurable:!1,enumerable:!1})}return(0,y.default)(e,[{key:"toString",value:function(){return(0,c.default)(this._storage)}},{key:"toJSON",value:function(){return"toJSON"in this._storage&&"function"==typeof this._storage.toJSON?this._storage.toJSON():(0,c.default)(this._storage)}},{key:"toStringTag",value:function(){return this.toString()}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=""+e;return this.hasItem(r)?this._serialize?this._serializer.deserialize(this._storage.getItem(r)):this._storage.getItem(r):t}},{key:"setItem",value:function(e,t){var r=""+e,n=void 0;this._serialize?n=this._serializer.serialize(t):(this._debug&&"string"!=typeof t&&console.warn('Value for key "'+r+'" will be converted to string: "'+t+'"'),n=""+t);var a=!0;try{this._storage.setItem(r,n)}catch(e){a="Device exceeded storage data limit or encounter error.\n"+e,this._debug&&console.warn(a)}return this._iterable&&(this[r]=n),a}},{key:"hasItem",value:function(e){var t=""+e;return"function"==typeof this._storage.hasItem?this._storage.hasItem(t):t in this._storage&&!(t in Storage.prototype)}},{key:"removeItem",value:function(e){var t=""+e;this.hasItem(t)&&(this._iterable&&delete this[t],this._storage.removeItem(t))}},{key:"clear",value:function(){var e=this;this._iterable&&(0,l.default)(this).forEach(function(t){return delete e[t]}),this._storage.clear()}},{key:"key",value:function(e){if(!this._serialize)return"function"==typeof this._storage.key?this._storage.key(e):e in this.values()?this.values()[e]:null;var t=null;return"function"==typeof this._storage.key?t=this._storage.key(e):e in this.values()&&(t=this.values()[e]),this._serializer.deserialize(t)}},{key:"item",value:function(){return!arguments.length||arguments.length>2?null:1===arguments.length?this.getItem(arguments.length<=0?void 0:arguments[0]):(this.setItem(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),this.getItem(arguments.length<=0?void 0:arguments[0]))}},{key:"keys",value:function(){return"function"==typeof this._storage.keys?this._storage.keys():(0,l.default)(this._storage)}},{key:"values",value:function e(){var t=this;if(!this._serialize)return"function"==typeof this._storage.values?this._storage.values():(0,u.default)(this._storage);var e=void 0;return e="function"==typeof this._storage.values?this._storage.values():(0,u.default)(this._storage),e.map(function(e){return t._serializer.deserialize(e)})}},{key:"entries",value:function e(){var t=this;if(!this._serialize)return"function"==typeof this._storage.entries?this._storage.entries():(0,i.default)(this._storage);var e=void 0;return e="function"==typeof this._storage.entries?this._storage.entries():(0,i.default)(this._storage),e.map(function(e){var r=[];return r[0]=e[0],r[1]=t._serializer.deserialize(e[1]),r})}},{key:"forEach",value:function(e,t){var r=this.keys();r.length&&"function"==typeof e&&(this._serialize===!1&&"function"==typeof this._storage.forEach&&this._storage.forEach.call(t,e),this.entries().forEach(function(r,n){return e.call(t,r,n)}))}},{key:"length",get:function(){return this.keys().length},set:function(e){return this.keys().length}}],[{key:"getStorage",value:function(){var e=[];try{if("undefined"!=typeof I.localStorage)try{I.localStorage.setItem("",""),e.push("localStorage")}catch(e){}}catch(e){}try{if("undefined"!=typeof I.sessionStorage)try{I.sessionStorage.setItem("",""),e.push("sessionStorage")}catch(e){}}catch(e){}return e.push("fallbackStorage"),e}}]),e}();j.NAME="FallbackLocalStorage",j.VERSION="0.0.20",e.exports=j},function(e,t){e.exports=require("babel-runtime/core-js/object/entries")},function(e,t){e.exports=require("babel-runtime/core-js/object/values")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("system.global")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return e&&(e instanceof m.default||"Map"===e.constructor.name)}function i(e){return e&&(e instanceof p.default||"Set"===e.constructor.name)}function o(e){return a(e)||i(e)}function u(e){if(!o(e))return e;if(i(e))return(0,y.default)(e).map(function(e){return o(e)?u(e):e});var t={};return e.forEach(function(e,r){o(e)?t[r]=u(e):t[r]=e}),t}var s=r(5),l=n(s),f=r(6),c=n(f),h=r(7),d=n(h),g=r(8),v=n(g),_=r(11),y=n(_),b=r(12),p=n(b),k=r(13),m=n(k),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,d.default)(this,e),Object.defineProperty(this,"_debug",{value:!!t,writable:!0,configurable:!1,enumerable:!1})}return(0,v.default)(e,[{key:"deserialize",value:function(e,t){var r=t,n="undefined"==typeof e?"undefined":(0,c.default)(e);if(!e)return this._debug&&(console.warn("Unable to parse scalar or empty values"),console.dir(e)),r;if("object"===n)return this._debug&&(console.warn("It looks like value is already parsed"),console.dir(e)),e;if("string"!==n)return this._debug&&(console.warn("Unable to parse non-string values"),console.dir(e)),r;try{r=JSON.parse(e)}catch(t){this._debug&&(console.warn("Unable to parse serialized data"),console.dir(e),console.dir(t))}return r}},{key:"serialize",value:function(e){return e?"object"!==("undefined"==typeof e?"undefined":(0,c.default)(e))?(0,l.default)(e):Array.isArray(e)?(0,l.default)(e):(0,l.default)(u(e)):(0,l.default)(e)}}]),e}();e.exports=S},function(e,t){e.exports=require("babel-runtime/core-js/array/from")},function(e,t){e.exports=require("babel-runtime/core-js/set")},function(e,t){e.exports=require("babel-runtime/core-js/map")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),i=n(a),o=r(2),u=n(o),s=r(3),l=n(s),f=r(4),c=n(f),h=r(7),d=n(h),g=r(8),v=n(g),_=r(15),y=n(_),b=function(){function e(){(0,d.default)(this,e),this._data={}}return(0,v.default)(e,[{key:"setItem",value:function(e,t){e&&(this._data[""+e]=""+t)}},{key:"getItem",value:function(e){return e in this._data?(0,y.default)(this._data[e]):null}},{key:"hasItem",value:function(e){return e in this._data}},{key:"removeItem",value:function(e){e in this._data&&delete this._data[e]}},{key:"key",value:function(e){var t=(0,c.default)(this._data);return e in t?(0,y.default)(t[e]):null}},{key:"clear",value:function(){this._data={}}},{key:"keys",value:function(){return(0,c.default)(this._data)}},{key:"values",value:function(){return(0,l.default)((0,y.default)(this._data))}},{key:"entries",value:function(){return(0,u.default)((0,y.default)(this._data))}},{key:"toString",value:function(){return(0,i.default)(this._data)}},{key:"valueOf",value:function(){return(0,y.default)(this._data)}},{key:"toJSON",value:function(){return(0,y.default)(this._data)}},{key:"length",get:function(){return(0,c.default)(this._data).length},set:function(e){return(0,c.default)(this._data).length}}]),e}();t.default=b},function(e,t){e.exports=require("lodash.clonedeep")}]);
//# sourceMappingURL=fallback-local-storage.js.map